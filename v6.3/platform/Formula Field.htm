<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="concept _Skins_HTML5___Side_Navigation_2021" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="API References|Field types">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="192x192" href="../Skins/Favicons/IB_favicon_192x192.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/IB_favicon_96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/IB_favicon_32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/IB_favicon_16x16.png" /><title>Formula Field</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
        <!-- Version dropdown -->
        <script type="text/javascript">/* <![CDATA[ */
			function gotopage(selval){
			var value = selval.options[selval.selectedIndex].value;
			window.location.href=value;
			}
		/* ]]> */</script>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/ib_platform.css" rel="stylesheet" />
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/jira_issue_collector.js">
        </script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-device-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search our documentation..." />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div style=" text-align: right; border-radius: 4px; color:white; font-size: 9pt; background: linear-gradient(0deg, rgba(35,129,195,1) 35%, rgba(2,54,96,1) 100%); margin-bottom: 15px; padding: 4px 12px; ">Documentation Version 
		<select class="minimal" onchange="gotopage(this)"><option value="">6.3 (current)</option><option value="https://documentation.infiniteblue.com/6.2/platform/What's%20New%20in%20Platform%206.2.htm" target="_blank">6.2</option><option value="https://documentation.infiniteblue.com/6.4/platform/What's%20New%20in%20Platform%206.4.htm" target="_blank">6.4</option><option value="https://documentation.infiniteblue.com/6.5/platform/What's%20New%20in%20Platform%206.5.htm" target="_blank">6.5</option><option value="https://documentation.infiniteblue.com/platform/What's%20New%20in%20Platform%206.6.htm" target="_blank">6.6</option></select></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <h1 class="concepttitle">Formula Field</h1>
                                        <p>Formula field values are calculated from a formula and are automatically updated
   when any fields used in the formula expression change value. You write formula field expressions
   in JavaScript. Platform executes them to compute a dynamic output that can be displayed on the
   screen, and can be used by other components. </p>
                                        <p>Formula fields can be displayed in views, see <a href="Views.htm" class="MCXref xref">Views</a>, but cannot be used for sorting, totaling, and
   filtering of records in Views. Use an <a href="Expression Field.htm">expression
    field</a> instead to sort, total or filter. Formula fields execute immediately when you
   create them and upon any update to the values to which they refer, while expression fields only execute after an update operation.</p>
                                        <div class="draft-comment">Reviewers: I tried to distill the information in the CQ description
   about the difference in execution for formula and expression fields, please suggest a clearer way
   of explaining it if this is not sufficient. </div>
                                        <p>In addition to fields that specify the label and appearance in views and
   reports, the <span class="uicontrol">New Field</span> screen for a formula field includes: </p>
                                        <ul>
                                            <li value="1">The return type, which can be <code>Decimal</code>,
     <code>Currency</code>, <code>Integer</code>, <code>String</code>,
     <code>Boolean</code>, or <code>Date</code>. </li>
                                            <li value="2">The currency format (only for fields with a <code>Currency</code> return
    type). </li>
                                            <li value="3">The number of decimal places (only for fields with <code>Decimal</code>
    return type). </li>
                                            <li value="4">An optional checkbox for hiding the display label of the field on UI Pages. </li>
                                            <li value="5">The <span class="uicontrol">Formula Editor</span> for defining the
    JavaScript expression. You can use merge fields from the current object record and related
    records to return a dynamically computed value. This value can be numeric or strings. Strings
    can consist of plain text, rich HTML, or JavaScript code that will be executed on the client's
    browser. For more information about formulas, including examples, see <a href="Formulas.htm" class="MCXref xref">Formulas</a>. </li>
                                        </ul>
                                        <p>Keep the following in mind when working with formula fields: </p>
                                        <ul>
                                            <li value="1">
                                                <p>To define loops, you can use the <code>LOOP_BEGIN</code> and
      <code>LOOP_END</code> tokens, as described in <a href="Iterating through records.htm" class="MCXref xref">Iterating through records</a>. However, this technique should only be used for a small number of related
     records. Looping through a large set of records using these tokens can degrade performance. It
     is better to use a pre-defined function or the Platform Query API to obtain the required
     record. See the list of methods available in the <a href="Query API.htm" class="MCXref xref">Query API</a>. </p>
                                            </li>
                                            <li value="2">All merge tokens are replaced with the exact contents of the corresponding field's value
    before the formula logic is executed. For example, a text field included by a token
     <code>{!myTextField}</code> with a value of <code>Hello World</code> will be used as is
    without the quotes around it. Always remember to use quotes around any value where JavaScript
    requires them.</li>
                                            <li value="3">To use dates: <ul><li value="1">In a formula: create a JavaScript <code>Date</code> instance by
      providing the merge token with quotes around it as the parameter:
      <pre>var myDate = new Date("{!myDateField}");</pre></li><li value="2">As the return type of a formula: return the full value of the JavaScript
       <code>getTime()</code> method. For example:
      <pre>return myDate.getTime(); </pre></li></ul></li>
                                            <li value="4">When using images and shared images in formulas, wrap them in quotes to avoid errors. For
    example, the following formula returns a different starred image (representing a star rating
    from 1 to 5) based on a picklist value. In this example, the tokens <code>{!star0}</code>
    through <code>{!star5}</code> refer to hosted images and <code>{!rating}</code> refers
    to a picklist: <img src="rfi1391098070623.jpg" style="width: 101;height: 29;" alt="" /><pre>if ({!rating}==106469)
 return "{!star1}";
else if ({!rating}==106470)
 return "{!star2}";
else if ({!rating}==106471)
 return "{!star3}";
else if ({!rating}==106472)
 return "{!star4}";
else if ({!rating}==106473)
 return "{!star5}";
else
 return "{!star0}";</pre></li>
                                        </ul>
                                    </div>
                                    <div class="home-footer">
                                        <p class="footer" style="color: #4d4d4d; text-align: right; vertical-align: middle;">© 2022 <a style="color: #4d4d4d;" href="http://www.infiniteblue.com/">Infinite Blue Platform</a>. All rights reserved.</p>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>