<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation_2021" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Adding business logic |[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="192x192" href="../Skins/Favicons/IB_favicon_192x192.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/IB_favicon_96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/IB_favicon_32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/IB_favicon_16x16.png" /><title>User-defined third-party widgets</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
        <!-- Version dropdown -->
        <script type="text/javascript">/* <![CDATA[ */
			function gotopage(selval){
			var value = selval.options[selval.selectedIndex].value;
			window.location.href=value;
			}
		/* ]]> */</script>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/ib_platform.css" rel="stylesheet" />
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/jira_issue_collector.js">
        </script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-device-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search our documentation..." />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <main id="main" class="body-container">
                                <div data-mc-content-body="True">
                                    <div style=" text-align: right; border-radius: 4px; color:white; font-size: 9pt; background: linear-gradient(0deg, rgba(35,129,195,1) 35%, rgba(2,54,96,1) 100%); margin-bottom: 15px; padding: 4px 12px; ">Documentation Version 
		<select class="minimal" onchange="gotopage(this)"><option value="">6.3 (current)</option><option value="https://documentation.infiniteblue.com/6.2/platform/What's%20New%20in%20Platform%206.2.htm" target="_blank">6.2</option><option value="https://documentation.infiniteblue.com/6.4/platform/What's%20New%20in%20Platform%206.4.htm" target="_blank">6.4</option><option value="https://documentation.infiniteblue.com/6.5/platform/What's%20New%20in%20Platform%206.5.htm" target="_blank">6.5</option><option value="https://documentation.infiniteblue.com/platform/What's%20New%20in%20Platform%206.6.htm" target="_blank">6.6</option></select></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <h1>User-defined third-party widgets</h1>
                                        <h2>Developing a third-party widget
        </h2>
                                        <p>In addition to the in-built  React UI widgets, you can now use widgets developed by you to enhance your user experience. Platform enables you to add widgets designed by you to the UI configurator and use them across all the pages in your application.  The high-level steps for developing a third-party widget are as follows:</p>
                                        <ol>
                                            <li value="1">
                                                <p>Create a React application.</p>
                                            </li>
                                            <li value="2">
                                                <p>Create a <code>config-overrides.js</code> file with the following content in the root folder. This file is used to generate a single <code>js</code> file while building the project instead of chunks.</p>
                                                <MadCap:codeSnippet>
                                                    <MadCap:codeSnippetCopyButton />
                                                    <MadCap:codeSnippetBody xml:space="preserve" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False">module.exports = {
  webpack: (config, env) =&gt; {
    config.optimization.runtimeChunk = false;
    config.optimization.splitChunks = {
      cacheGroups: {
        default: false,
      },
    };
    config.output.filename = "static/js/[name].js";
    config.plugins[5].options.filename = "static/css/[name].css";
    config.plugins[5].options.moduleFilename = () =&gt; "static/css/main.css";
    return config;
  },
};</MadCap:codeSnippetBody>
                                                </MadCap:codeSnippet>
                                            </li>
                                            <li value="3">
                                                <p>Create an <code>src/serviceWorker.js</code> file and add the following content. This file is used to register and unregister a third-party widget.</p>
                                                <MadCap:codeSnippet>
                                                    <MadCap:codeSnippetCopyButton />
                                                    <MadCap:codeSnippetBody xml:space="preserve" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False">const isLocalhost = Boolean(
    window.location.hostname === 'localhost' ||
    window.location.hostname === '[::1]' ||
    window.location.hostname.match(
        /^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/
    )
);

export function register(config) {
    if (process.env.NODE_ENV === 'production' &amp;&amp; 'serviceWorker' in navigator) {
        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);
        if (publicUrl.origin !== window.location.origin) {
            return;
        }

        window.addEventListener('load', () =&gt; {
            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;

            if (isLocalhost) {
                checkValidServiceWorker(swUrl, config);
                navigator.serviceWorker.ready.then(() =&gt; {
                    console.log(
                        'This web app is being served cache-first by a service '
                    );
                });
            } else {
                registerValidSW(swUrl, config);
            }
        });
    }
}

function registerValidSW(swUrl, config) {
    navigator.serviceWorker
        .register(swUrl)
        .then(registration =&gt; {
            registration.onupdatefound = () =&gt; {
                const installingWorker = registration.installing;
                if (installingWorker == null) {
                    return;
                }
                installingWorker.onstatechange = () =&gt; {
                    if (installingWorker.state === 'installed') {
                        if (navigator.serviceWorker.controller) {
                            console.log(
                                'New content is available and will be used when all '
                            );
                            if (config &amp;&amp; config.onUpdate) {
                                config.onUpdate(registration);
                            }
                        } else {
                            console.log('Content is cached for offline use.');
                            if (config &amp;&amp; config.onSuccess) {
                                config.onSuccess(registration);
                            }
                        }
                    }
                };
            };
        })
        .catch(error =&gt; {
            console.error('Error during service worker registration:', error);
        });
}

function checkValidServiceWorker(swUrl, config) {
    fetch(swUrl, {
            headers: {
                'Service-Worker': 'script'
            },
        })
        .then(response =&gt; {
            const contentType = response.headers.get('content-type');
            if (
                response.status === 404 ||
                (contentType != null &amp;&amp; contentType.indexOf('javascript') === -1)
            ) {
                navigator.serviceWorker.ready.then(registration =&gt; {
                    registration.unregister().then(() =&gt; {
                        window.location.reload();
                    });
                });
            } else {
                registerValidSW(swUrl, config);
            }
        })
        .catch(() =&gt; {
            console.log(
                'No internet connection found. App is running in offline mode.'
            );
        });
}

export function unregister() {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.ready
            .then(registration =&gt; {
                registration.unregister();
            })
            .catch(error =&gt; {
                console.error(error.message);
            });
    }
}</MadCap:codeSnippetBody>
                                                </MadCap:codeSnippet>
                                                <p>&#160;</p>
                                            </li>
                                            <li value="4">
                                                <p>Modify <code>index.js</code> and add the following content. Replace {id} with the widget ID. For example, <code>window.renderMyApp</code>.</p>
                                                <MadCap:codeSnippet>
                                                    <MadCap:codeSnippetCopyButton />
                                                    <MadCap:codeSnippetBody xml:space="preserve" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False">import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

window.render{id} = (containerId, data, uiSchema) =&gt; {
  ReactDOM.render(
    &lt;App data={data} uiSchema={uiSchema}/&gt;,
    document.getElementById(containerId),
  );
  serviceWorker.unregister();
};

window.unmount{id} = containerId =&gt; {
  ReactDOM.unmountComponentAtNode(document.getElementById(containerId));
};</MadCap:codeSnippetBody>
                                                </MadCap:codeSnippet>
                                            </li>
                                            <li value="5">
                                                <p>Run the command <code>npm install --save react-app-rewired</code> in your workspace terminal to install react-app-rewired.</p>
                                            </li>
                                            <li value="6">
                                                <p>Modify <code>package.json</code> to build into a single file.</p>
                                                <MadCap:codeSnippet>
                                                    <MadCap:codeSnippetCopyButton />
                                                    <MadCap:codeSnippetBody xml:space="preserve" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False">  "scripts": {
    "start": "react-app-rewired start",
    "build": "react-app-rewired build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  }</MadCap:codeSnippetBody>
                                                </MadCap:codeSnippet>
                                            </li>
                                            <li value="7">
                                                <p>Run the command <code>npm run-script build</code> to build the application.</p>
                                                <div class="note"><b>Note</b>: Running the above command auto-generates a build folder. Go to <code>&lt;root folder&gt;/build/manifest.json</code>, and ensure that the contents in this file are in the <code>files </code>node, as shown in the screenshot below.</div>
                                                <p>
                                                    <img src="../img/User-Defined- format.png" style="width: 459px;height: 208px;" alt="" />
                                                </p>
                                            </li>
                                        </ol>
                                        <h2>Adding a third-party widget to the Platform
        </h2>
                                        <p>You can add a widget designed by you to the UI configurator alongside the in-built React UI widgets, so that it is readily available to use whenever needed.</p>
                                        <p>The procedure to add a widget is as follows:</p>
                                        <ol>
                                            <li value="1">
                                                <p>On the <b>System</b> tab, click <b>+Widget</b> on the <b>Widgets</b> subtab.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 1.png" style="width: 545px;height: 180px;" alt="" />
                                                </p>
                                            </li>
                                            <li value="2">
                                                <p>On the <b>Widget Indexes</b> tab of the <b>Add Widget</b> dialog box, add details such as the widget ID, name, description, thumbnail, and image. Click <b>Next</b>.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 2.png" style="width: 437px;height: 372px;" alt="" />
                                                </p>
                                                <div class="note"><b>Note</b>:Every widget has a unique <b>ID</b>. The <b>Name</b> and <b>Description</b> you provide here is displayed in the UI. The <b>Thumbnail</b> is a smaller graphical representation of the <b>Image</b>.</div>
                                            </li>
                                            <li value="3">
                                                <p>Add required fields on the <b>Widget Schema</b> tab by clicking the <b>+</b> button and filling in details such as the field name, key, and type. For example, in the case of Quarterly Revenue Growth, we would need 2 fields primarily to measure the change in sales from one quarter to another – Revenue and Quarter.  In the case of student marks, we would need fields such as Student Name, Marks, Subject, etc. </p>
                                                <div class="note"><b>Note</b>:Platform currently supports the field types, String and Number.</div>
                                                <p>Similarly, UI properties can also be added to change the appearance and presentability of the widget. These include the widget title, color, etc. </p>
                                                <div class="note"><b>Note</b>:UI properties can be of 2 types - String and Color.</div>
                                                <p> Click the <b>–</b> button to remove a field/ UI property. Sample JSON data is used for rendering the widget in the <b>Design</b> tab of the UI Configurator. Click <b>Next</b> after filling in all 3 sections of the <b>Widget Schema</b> tab.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 3.png" style="width: 429px;height: 401px;" alt="" />
                                                </p>
                                            </li>
                                            <li value="4">
                                                <p>On the <b>Widget Build</b> tab, upload the node js application build folder contents as a ZIP file to the Platform, and click <b>Submit</b> .</p>
                                                <div class="note"><b>Note</b>:Instead of zipping the build folder directly, the contents of the build folder must be added to a ZIP file. This is so that when the ZIP file is extracted, its contents get extracted directly.</div>
                                                <p>
                                                    <img src="../img/Third Party Widget 4.png" style="width: 195px;height: 213px;" alt="" />
                                                </p>
                                                <p>
                                                    <img src="../img/Third Party Widget 5.png" style="width: 483px;height: 223px;" alt="" />
                                                </p>
                                            </li>
                                            <li value="5">
                                                <p>Enjoy using your widget from the UI Configurator! For more information, see <a href="UI Configurator.htm">UI Configurator</a>.</p>
                                            </li>
                                        </ol>
                                        <h2>Editing a third-party widget
        </h2>
                                        <p>Platform enables you to edit a third-party widget in case you wish to make changes to it after adding it. To edit a third-party widget:</p>
                                        <ol>
                                            <li value="1">
                                                <p>Click <b>Edit</b> next to the widget that you want to edit on the <b>Widgets</b> subtab of the <b>System</b> tab.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 6.png" style="width: 559px;height: 186px;" alt="" />
                                                </p>
                                            </li>
                                            <li value="2">
                                                <p>The <b>Edit Widget Data</b> dialog box opens. Select the required tab, and edit the necessary details. Click <b>Submit</b> on the <b>Widget Build</b> tab to save these changes.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 7.png" style="width: 450px;height: 373px;" alt="" />
                                                </p>
                                            </li>
                                        </ol>
                                        <h2>Deleting third-party widgets
        </h2>
                                        <p>You can delete a third-party widget if you no longer wish to use it. To delete a third-party widget:</p>
                                        <ol>
                                            <li value="1">
                                                <p>Click <b>Delete</b> next to the widget you want to delete on the <b>Widgets</b> subtab of the <b>System</b> tab.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 8.png" style="width: 562px;height: 187px;" alt="" />
                                                </p>
                                            </li>
                                            <li value="2">
                                                <p>The <b>Delete Widget?</b> dialog box opens. Select the <b>Yes, I want to complete this action</b> checkbox and click <b>Continue</b> to permanently delete the widget.</p>
                                                <p>
                                                    <img src="../img/Third Party Widget 9.png" style="width: 364px;height: 248px;" alt="" />
                                                </p>
                                                <p>A pop-up message notifying that the widget has been successfully deleted appears to confirm the deletion.</p>
                                            </li>
                                        </ol>
                                    </div>
                                    <div class="home-footer">
                                        <p class="footer" style="color: #4d4d4d; text-align: right; vertical-align: middle;">© 2022 <a style="color: #4d4d4d;" href="http://www.infiniteblue.com/">Infinite Blue Platform</a>. All rights reserved.</p>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>